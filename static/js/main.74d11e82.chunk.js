(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(n,e,t){n.exports=t(87)},85:function(n,e,t){},87:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(5),o=t.n(c),i=t(12),u=t(14),l=t(38),s=t(17),f=t(18),h=t(21),v=t(19),p=t(22),d=t(93),m=t(29),b=t(48),O=t(49),y=t(92),w=t(90),E=t(91);var j="cell:click",g="cell:action",k=function(n){function e(){var n,t;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=Object(h.a)(this,(n=Object(v.a)(e)).call.apply(n,[this].concat(a)))).state={ref:null},t.attachRef=function(n){return t.setState({ref:n})},t}return Object(p.a)(e,n),Object(f.a)(e,[{key:"render",value:function(){var n=this.props,e=n.onClickCell,t=n.cell,r=["aw-map-cell"];return t.selected&&r.push("selected"),t.unit&&r.push(t.unit.disabled?"unit-disabled":"mech"),t.inRange&&r.push("in-range"),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{ref:this.attachRef,id:"cell-".concat(t.y,"-").concat(t.x),className:r.join(" "),onClick:e}),this.renderOverlay())}},{key:"renderOverlay",value:function(){var n=this.props,e=n.onCellAction,t=n.cell.actions,r=this.state.ref;return t?a.a.createElement(y.a,{target:r,show:!0,placement:"bottom"},function(n){n.show;var r=Object(O.a)(n,["show"]);return a.a.createElement(w.a,r,a.a.createElement(E.a,{variant:"flush"},Object.entries(t).map(function(n){var t=Object(b.a)(n,2),r=t[0],c=t[1];return a.a.createElement(E.a.Item,{action:!0,as:"li",key:r,onClick:function(){return e(r)}},c)})))}):null}}]),e}(a.a.Component),C=Object(i.b)(function(n,e){var t=e.row,r=e.col;return{cell:n.map[t][r]}},function(n,e){var t=e.row,r=e.col;return{onClickCell:function(){return n({type:j,row:t,col:r})},onCellAction:function(e){return n({type:g,action:e})}}})(k);var x=function(n){function e(){var n,t;Object(s.a)(this,e);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=Object(h.a)(this,(n=Object(v.a)(e)).call.apply(n,[this].concat(c)))).renderRow=function(n){var e=t.props.cols;return a.a.createElement("div",{className:"aw-map-row",key:n},m.range(e).map(function(e){return a.a.createElement(C,{row:n,col:e,key:"".concat(n,"-").concat(e)})}))},t}return Object(p.a)(e,n),Object(f.a)(e,[{key:"render",value:function(){var n=this.props.rows;return a.a.createElement("div",null,m.range(n).map(this.renderRow))}}]),e}(a.a.Component),R=Object(i.b)(function(n){return{rows:n.map.length,cols:n.map[0].length}})(x),_="game:endTurn",T=function(n){function e(){return Object(s.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(p.a)(e,n),Object(f.a)(e,[{key:"render",value:function(){var n=this.props.endTurn;return a.a.createElement("div",null,a.a.createElement(R,null),a.a.createElement(d.a,{onClick:n},"End turn"))}}]),e}(a.a.Component),A=Object(i.b)(null,function(n){return{endTurn:function(){return n({type:_})}}})(T);t(85),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=t(24);function N(n){for(var e=0;e<n.length;e++)for(var t=n[e],r=0;r<t.length;r++){var a=t[r];if(a.selected)return a}return null}function S(n,e,t){I(n);var r=n[t][e];r.unit&&!r.unit.disabled&&function(n,e,t){n.forEach(function(n){n.forEach(function(n){var r,a,c;n.x===e&&n.y===t?n.selected=!0:(r=n,a={x:e,y:t},c=2,Math.abs(r.x-a.x)+Math.abs(r.y-a.y)<=c&&(n.inRange=!0))})})}(n,e,t)}function I(n){return n.forEach(function(n){n.forEach(function(n){n.selected=!1,n.inRange=!1,n.actions=null})})}function B(n){return n.forEach(function(n){n.forEach(function(n){n.unit&&(n.unit.disabled=!1)})})}var D=function(n,e){for(var t=[],r=0;r<n;r++){for(var a=[],c=0;c<e;c++)a.push({type:"plain",x:c,y:r});t.push(a)}return t}(7,7);D[3][2].unit={type:"mech",x:2,y:3},D[5][5].unit={type:"mech",x:5,y:5};var J=Object(u.c)({map:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(M.a)(n,function(n){return function(n,e){var t=e.row,r=e.col;if(N(n)){var a=n[t][r];a.inRange?(function(n){n.forEach(function(n){n.forEach(function(n){n.actions=null})})}(n),a.actions={move:"Move",cancel:"Cancel"}):I(n)}else S(n,r,t)}(n,e)});case g:return Object(M.a)(n,function(n){return function(n,e){var t=e.action,r=N(n),a=function(n){for(var e=0;e<n.length;e++)for(var t=n[e],r=0;r<t.length;r++){var a=t[r];if(a.actions)return a}return null}(n);"move"===t&&function(n,e){if(!e.unit){var t=n.unit;n.unit=null,t.x=e.x,t.y=e.y,t.disabled=!0,e.unit=t}}(r,a),I(n)}(n,e)});case _:return Object(M.a)(n,B);default:return n}}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,X=Object(u.e)(J,W(Object(u.a)(l.logger)));o.a.render(a.a.createElement(i.a,{store:X},a.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.74d11e82.chunk.js.map