(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(n,t,e){n.exports=e(78)},47:function(n,t,e){},78:function(n,t,e){"use strict";e.r(t);var a=e(0),c=e.n(a),r=e(5),o=e.n(r),i=(e(47),e(40)),u=e(41),l=e(18),s=e(19),f=e(22),h=e(20),m=e(23),v=e(14),p=e(83),y=e(81),d=e(82),b=function(n){function t(){var n,e;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=Object(f.a)(this,(n=Object(h.a)(t)).call.apply(n,[this].concat(c)))).state={ref:null},e.attachRef=function(n){return e.setState({ref:n})},e}return Object(m.a)(t,n),Object(s.a)(t,[{key:"render",value:function(){var n=this.props,t=n.onAction,e=n.onClick,a=n.cell,r=this.state.ref,o=["aw-map-cell"];return a.selected&&o.push("selected"),a.unit&&o.push("mech"),a.inRange&&o.push("in-range"),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{ref:this.attachRef,id:"cell-".concat(a.y,"-").concat(a.x),className:o.join(" "),onClick:e}),c.a.createElement(p.a,{target:r,show:!!a.actions,placement:"bottom"},function(n){n.show;var e=Object(u.a)(n,["show"]);return c.a.createElement(y.a,e,c.a.createElement(d.a,{variant:"flush"},a.actions&&Object.entries(a.actions).map(function(n){var e=Object(i.a)(n,2),a=e[0],r=e[1];return c.a.createElement(d.a.Item,{action:!0,as:"li",key:a,onClick:function(){return t(a)}},r)})))}))}}]),t}(c.a.Component);function w(n,t){for(var e=[],a=0;a<n;a++){for(var c=[],r=0;r<t;r++)c.push({type:"plain",x:r,y:a});e.push(c)}return e}function g(n){for(var t=0;t<n.length;t++)for(var e=n[t],a=0;a<e.length;a++){var c=e[a];if(c.selected)return c}return null}function j(n,t,e){k(n),n[e][t].unit&&function(n,t,e){n.forEach(function(n){n.forEach(function(n){var a,c,r;n.x===t&&n.y===e?n.selected=!0:(a=n,c={x:t,y:e},r=2,Math.abs(a.x-c.x)+Math.abs(a.y-c.y)<=r&&(n.inRange=!0))})})}(n,t,e)}function k(n){return n.forEach(function(n){n.forEach(function(n){n.selected=!1,n.inRange=!1,n.actions=null})})}var O=function(n){function t(){var n,e;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=Object(f.a)(this,(n=Object(h.a)(t)).call.apply(n,[this].concat(c)))).state={map:w(7,7)},e.handleAction=function(n){e.setState(Object(v.a)(function(t){var e=t.map,a=g(e),c=function(n){for(var t=0;t<n.length;t++)for(var e=n[t],a=0;a<e.length;a++){var c=e[a];if(c.actions)return c}return null}(e);console.log(a,c),"move"===n&&function(n,t){if(!t.unit){var e=n.unit;n.unit=null,e.x=t.x,e.y=t.y,t.unit=e}}(a,c),k(e)}))},e}return Object(m.a)(t,n),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(v.a)(function(n){var t=n.map;t[3][2].unit={type:"mech",x:2,y:3},t[5][5].unit={type:"mech",x:5,y:5}}))}},{key:"handleClick",value:function(n,t){this.setState(Object(v.a)(function(e){var a=e.map;if(g(a)){var c=a[t][n];c.inRange?c.actions={move:"Move",cancel:"Cancel"}:k(a)}else j(a,n,t)}))}},{key:"render",value:function(){var n=this,t=this.state.map;return c.a.createElement("div",null,t.map(function(t,e){return c.a.createElement("div",{className:"aw-map-row",key:e},t.map(function(t){return c.a.createElement(b,{cell:t,key:"".concat(t.y,",").concat(t.x),onClick:function(){return n.handleClick(t.x,t.y)},onAction:n.handleAction})}))}))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.ce59500d.chunk.js.map